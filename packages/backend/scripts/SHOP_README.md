# –ú–∞–≥–∞–∑–∏–Ω Ruscord - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## –û–±–∑–æ—Ä

–ú–∞–≥–∞–∑–∏–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ø–æ–∫—É–ø–∞—Ç—å –±–∞–Ω–Ω–µ—Ä—ã –¥–ª—è –ø—Ä–æ—Ñ–∏–ª—è –∑–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é –≤–∞–ª—é—Ç—É (Rucoin ü™ô).

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü—ã

- `shop_items` - —Ç–æ–≤–∞—Ä—ã –≤ –º–∞–≥–∞–∑–∏–Ω–µ
- `user_currency` - –≤–∞–ª—é—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `user_purchases` - –∫—É–ø–ª–µ–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã
- `user_profile_customization` - –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ñ–∏–ª—è (–±–∞–Ω–Ω–µ—Ä—ã)

## API Endpoints

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ

- `GET /api/shop/items` - –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ç–æ–≤–∞—Ä—ã
- `GET /api/shop/currency` - –ü–æ–ª—É—á–∏—Ç—å –±–∞–ª–∞–Ω—Å –≤–∞–ª—é—Ç—ã
- `GET /api/shop/purchases` - –ü–æ–ª—É—á–∏—Ç—å –∫—É–ø–ª–µ–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã
- `POST /api/shop/purchase` - –ö—É–ø–∏—Ç—å —Ç–æ–≤–∞—Ä
  ```json
  {
    "itemId": "uuid"
  }
  ```
- `POST /api/shop/apply-banner` - –ü—Ä–∏–º–µ–Ω–∏—Ç—å –±–∞–Ω–Ω–µ—Ä –∫ –ø—Ä–æ—Ñ–∏–ª—é
  ```json
  {
    "itemId": "uuid"
  }
  ```

### –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ

- `POST /api/shop/admin/currency` - –ò–∑–º–µ–Ω–∏—Ç—å –≤–∞–ª—é—Ç—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  ```json
  {
    "userId": "uuid",
    "amount": 1000,
    "operation": "set" | "add" | "subtract"
  }
  ```

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∞–ª—é—Ç–æ–π

### –ß–µ—Ä–µ–∑ API

```bash
curl -X POST http://localhost:3001/api/shop/admin/currency \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "userId": "user-uuid",
    "amount": 1000,
    "operation": "add"
  }'
```

### –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–æ—á–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
tsx scripts/manage-currency.ts <user-id> set 5000

# –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª—é—Ç—É
tsx scripts/manage-currency.ts <user-id> add 1000

# –í—ã—á–µ—Å—Ç—å –≤–∞–ª—é—Ç—É
tsx scripts/manage-currency.ts <user-id> subtract 500
```

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –º–∞–≥–∞–∑–∏–Ω

### –ß–µ—Ä–µ–∑ SQL

–í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç `add-test-banners.sql`:

```bash
psql -U postgres -d ruscord -f scripts/add-test-banners.sql
```

### –ß–µ—Ä–µ–∑ –ø—Ä—è–º–æ–π SQL –∑–∞–ø—Ä–æ—Å

```sql
INSERT INTO shop_items (name, description, type, price, image_url, rarity, is_active) 
VALUES (
  '–ù–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–Ω–µ—Ä–∞',
  '–û–ø–∏—Å–∞–Ω–∏–µ',
  'banner',
  1000,
  'https://example.com/banner.png',
  'rare',
  true
);
```

### –¢–∏–ø—ã —Ä–µ–¥–∫–æ—Å—Ç–∏ (rarity)

- `common` - –û–±—ã—á–Ω—ã–π (500-1000 ü™ô)
- `rare` - –†–µ–¥–∫–∏–π (1000-2000 ü™ô)
- `epic` - –≠–ø–∏—á–µ—Å–∫–∏–π (2000-5000 ü™ô)
- `legendary` - –õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π (5000+ ü™ô)

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ö–æ–¥–∏—Ç –≤ –º–∞–≥–∞–∑–∏–Ω —á–µ—Ä–µ–∑ –≤–∫–ª–∞–¥–∫—É "–ú–∞–≥–∞–∑–∏–Ω"
2. –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–µ –±–∞–Ω–Ω–µ—Ä—ã
3. –ü–æ–∫—É–ø–∞–µ—Ç –±–∞–Ω–Ω–µ—Ä –∑–∞ –≤–∞–ª—é—Ç—É
4. –ü—Ä–∏–º–µ–Ω—è–µ—Ç –∫—É–ø–ª–µ–Ω–Ω—ã–π –±–∞–Ω–Ω–µ—Ä –∫ —Å–≤–æ–µ–º—É –ø—Ä–æ—Ñ–∏–ª—é

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ü—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç 1000 ü™ô —Å—Ç–∞—Ä—Ç–æ–≤–æ–π –≤–∞–ª—é—Ç—ã
- –ë–∞–Ω–Ω–µ—Ä—ã –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –æ–Ω–∏ –∫—É–ø–ª–µ–Ω—ã
- –û–¥–∏–Ω –±–∞–Ω–Ω–µ—Ä –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ
- –í–∞–ª—é—Ç—É –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω—è—Ç—å —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º

