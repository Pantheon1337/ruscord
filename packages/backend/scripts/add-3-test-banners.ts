/**
 * –°–∫—Ä–∏–ø—Ç –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è 3 —Ç–µ—Å—Ç–æ–≤—ã—Ö –±–∞–Ω–Ω–µ—Ä–æ–≤ –≤ –º–∞–≥–∞–∑–∏–Ω
 * 
 * –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
 *   tsx scripts/add-3-test-banners.ts
 * 
 * –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ó–∞–º–µ–Ω–∏—Ç–µ –ø—É—Ç–∏ –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞—Ä—Ç–∏–Ω–æ–∫
 */

import { query } from "../src/database";
import dotenv from "dotenv";

dotenv.config();

async function addTestBanners() {
  try {
    console.log("–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –±–∞–Ω–Ω–µ—Ä–æ–≤...\n");

    // –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –±–∞–Ω–Ω–µ—Ä—ã (–µ—Å–ª–∏ –µ—Å—Ç—å)
    await query(`
      DELETE FROM shop_items 
      WHERE name IN ('–¢–µ—Å—Ç–æ–≤—ã–π –±–∞–Ω–Ω–µ—Ä 1', '–¢–µ—Å—Ç–æ–≤—ã–π –±–∞–Ω–Ω–µ—Ä 2', '–¢–µ—Å—Ç–æ–≤—ã–π –±–∞–Ω–Ω–µ—Ä 3')
    `);
    console.log("–°—Ç–∞—Ä—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –±–∞–Ω–Ω–µ—Ä—ã —É–¥–∞–ª–µ–Ω—ã (–µ—Å–ª–∏ –±—ã–ª–∏)\n");

    // –î–æ–±–∞–≤–ª—è–µ–º 3 —Ç–µ—Å—Ç–æ–≤—ã—Ö –±–∞–Ω–Ω–µ—Ä–∞
    const banners = [
      {
        name: '–¢–µ—Å—Ç–æ–≤—ã–π –±–∞–Ω–Ω–µ—Ä 1',
        description: '–ü–µ—Ä–≤—ã–π —Ç–µ—Å—Ç–æ–≤—ã–π –±–∞–Ω–Ω–µ—Ä –¥–ª—è –º–∞–≥–∞–∑–∏–Ω–∞',
        price: 1000,
        image_url: '/uploads/banners/banner1.png', // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –ø—É—Ç—å
        rarity: 'rare'
      },
      {
        name: '–¢–µ—Å—Ç–æ–≤—ã–π –±–∞–Ω–Ω–µ—Ä 2',
        description: '–í—Ç–æ—Ä–æ–π —Ç–µ—Å—Ç–æ–≤—ã–π –±–∞–Ω–Ω–µ—Ä –¥–ª—è –º–∞–≥–∞–∑–∏–Ω–∞',
        price: 1500,
        image_url: '/uploads/banners/banner2.png', // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –ø—É—Ç—å
        rarity: 'epic'
      },
      {
        name: '–¢–µ—Å—Ç–æ–≤—ã–π –±–∞–Ω–Ω–µ—Ä 3',
        description: '–¢—Ä–µ—Ç–∏–π —Ç–µ—Å—Ç–æ–≤—ã–π –±–∞–Ω–Ω–µ—Ä –¥–ª—è –º–∞–≥–∞–∑–∏–Ω–∞',
        price: 2000,
        image_url: '/uploads/banners/banner3.png', // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –ø—É—Ç—å
        rarity: 'epic'
      }
    ];

    for (const banner of banners) {
      await query(`
        INSERT INTO shop_items (name, description, type, price, image_url, rarity, is_active)
        VALUES ($1, $2, 'banner', $3, $4, $5, true)
      `, [
        banner.name,
        banner.description,
        banner.price,
        banner.image_url,
        banner.rarity
      ]);
      console.log(`‚úÖ –î–æ–±–∞–≤–ª–µ–Ω: ${banner.name} (${banner.price} ü™ô, ${banner.rarity})`);
    }

    console.log("\n‚úÖ –í—Å–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –±–∞–Ω–Ω–µ—Ä—ã —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω—ã!");
    console.log("\n–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:");
    console.log("1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –±–∞–Ω–Ω–µ—Ä–æ–≤ –≤ –ø–∞–ø–∫—É packages/backend/uploads/banners/");
    console.log("2. –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Ä–∞–∑–º–µ—Ä: 600x240 –ø–∏–∫—Å–µ–ª–µ–π (—Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ 2.5:1)");
    console.log("3. –§–æ—Ä–º–∞—Ç: PNG –∏–ª–∏ JPG");
    console.log("4. –ï—Å–ª–∏ –ø—É—Ç–∏ –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º –æ—Ç–ª–∏—á–∞—é—Ç—Å—è, –æ–±–Ω–æ–≤–∏—Ç–µ –∏—Ö —á–µ—Ä–µ–∑ UPDATE –∑–∞–ø—Ä–æ—Å—ã");

    process.exit(0);
  } catch (error) {
    console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –±–∞–Ω–Ω–µ—Ä–æ–≤:", error);
    process.exit(1);
  }
}

// –ó–∞–ø—É—Å–∫–∞–µ–º —Å–∫—Ä–∏–ø—Ç
addTestBanners();

